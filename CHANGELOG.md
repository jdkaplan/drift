# Changelog

The format of this file is based on [Keep a Changelog].

This project uses [Semantic Versioning], and is currently in a pre-release state.

[Semantic Versioning]: https://semver.org/spec/v2.0.0.html
[Keep a Changelog]: https://keepachangelog.com/en/1.0.0/

## Unreleased

## [0.5.2](https://github.com/jdkaplan/squill/compare/v0.5.1...v0.5.2) - 2024-02-23

### Fixed
- Print invalid directory names to verbose log

### Other
- Configure release-plz for CI
- *(deps)* bump tabled from 0.14.0 to 0.15.0
- cargo-fmt for let-else statements
- Fix some clippy lints
- *(deps)* bump serde from 1.0.193 to 1.0.196 ([#134](https://github.com/jdkaplan/squill/pull/134))
- *(deps)* bump thiserror from 1.0.53 to 1.0.57 ([#137](https://github.com/jdkaplan/squill/pull/137))
- *(deps)* bump regex from 1.10.2 to 1.10.3 ([#135](https://github.com/jdkaplan/squill/pull/135))
- *(deps)* bump time from 0.3.31 to 0.3.32 ([#133](https://github.com/jdkaplan/squill/pull/133))
- *(deps)* bump anyhow from 1.0.75 to 1.0.78 ([#131](https://github.com/jdkaplan/squill/pull/131))
- *(deps)* bump clap from 4.4.11 to 4.4.12 ([#129](https://github.com/jdkaplan/squill/pull/129))
- *(deps)* bump thiserror from 1.0.52 to 1.0.53 ([#132](https://github.com/jdkaplan/squill/pull/132))
- *(deps)* bump figment from 0.10.12 to 0.10.13 ([#128](https://github.com/jdkaplan/squill/pull/128))
- *(deps)* bump tokio from 1.34.0 to 1.35.1 ([#124](https://github.com/jdkaplan/squill/pull/124))
- *(deps)* bump clap from 4.4.9 to 4.4.11 ([#120](https://github.com/jdkaplan/squill/pull/120))
- *(deps)* bump time from 0.3.30 to 0.3.31 ([#125](https://github.com/jdkaplan/squill/pull/125))
- *(deps)* bump zerocopy from 0.7.26 to 0.7.32 ([#127](https://github.com/jdkaplan/squill/pull/127))
- *(deps)* bump thiserror from 1.0.50 to 1.0.52 ([#126](https://github.com/jdkaplan/squill/pull/126))
- Reduce Dependabot frequency to monthly
- *(deps)* bump serde from 1.0.192 to 1.0.193 ([#119](https://github.com/jdkaplan/squill/pull/119))
- *(deps)* bump clap from 4.4.8 to 4.4.9 ([#118](https://github.com/jdkaplan/squill/pull/118))
- *(deps)* bump sqlx from 0.7.2 to 0.7.3 ([#117](https://github.com/jdkaplan/squill/pull/117))
- *(deps)* bump uuid from 1.5.0 to 1.6.1 ([#116](https://github.com/jdkaplan/squill/pull/116))
- *(deps)* bump serde from 1.0.191 to 1.0.192 ([#114](https://github.com/jdkaplan/squill/pull/114))
- *(deps)* bump tracing-subscriber from 0.3.17 to 0.3.18 ([#113](https://github.com/jdkaplan/squill/pull/113))
- *(deps)* bump clap from 4.4.7 to 4.4.8 ([#115](https://github.com/jdkaplan/squill/pull/115))
- *(deps)* bump tokio from 1.33.0 to 1.34.0 ([#112](https://github.com/jdkaplan/squill/pull/112))
- *(deps)* bump serde from 1.0.190 to 1.0.191 ([#111](https://github.com/jdkaplan/squill/pull/111))
- *(deps)* bump figment from 0.10.11 to 0.10.12 ([#110](https://github.com/jdkaplan/squill/pull/110))
- *(deps)* bump clap from 4.4.6 to 4.4.7 ([#109](https://github.com/jdkaplan/squill/pull/109))
- *(deps)* bump serde from 1.0.189 to 1.0.190 ([#108](https://github.com/jdkaplan/squill/pull/108))
- *(deps)* bump thiserror from 1.0.49 to 1.0.50 ([#107](https://github.com/jdkaplan/squill/pull/107))
- *(deps)* bump uuid from 1.4.1 to 1.5.0 ([#106](https://github.com/jdkaplan/squill/pull/106))
- *(deps)* bump tracing from 0.1.39 to 0.1.40 ([#105](https://github.com/jdkaplan/squill/pull/105))
- *(deps)* bump rustix from 0.37.20 to 0.37.25 ([#104](https://github.com/jdkaplan/squill/pull/104))
- *(deps)* bump serde from 1.0.188 to 1.0.189 ([#103](https://github.com/jdkaplan/squill/pull/103))
- *(deps)* bump regex from 1.10.0 to 1.10.2 ([#102](https://github.com/jdkaplan/squill/pull/102))
- *(deps)* bump tracing from 0.1.37 to 0.1.39 ([#101](https://github.com/jdkaplan/squill/pull/101))
- *(deps)* bump time from 0.3.29 to 0.3.30 ([#100](https://github.com/jdkaplan/squill/pull/100))
- *(deps)* bump tokio from 1.32.0 to 1.33.0 ([#99](https://github.com/jdkaplan/squill/pull/99))
- *(deps)* bump regex from 1.9.6 to 1.10.0 ([#98](https://github.com/jdkaplan/squill/pull/98))
- *(deps)* bump clap from 4.4.5 to 4.4.6 ([#97](https://github.com/jdkaplan/squill/pull/97))
- *(deps)* bump figment from 0.10.10 to 0.10.11 ([#96](https://github.com/jdkaplan/squill/pull/96))
- *(deps)* bump thiserror from 1.0.48 to 1.0.49 ([#95](https://github.com/jdkaplan/squill/pull/95))
- *(deps)* bump sqlx from 0.7.1 to 0.7.2 ([#94](https://github.com/jdkaplan/squill/pull/94))
- *(deps)* bump regex from 1.9.5 to 1.9.6 ([#93](https://github.com/jdkaplan/squill/pull/93))
- *(deps)* bump regex from 1.9.3 to 1.9.5 ([#92](https://github.com/jdkaplan/squill/pull/92))
- *(deps)* bump clap from 4.4.4 to 4.4.5 ([#91](https://github.com/jdkaplan/squill/pull/91))
- *(deps)* bump tera from 1.19.0 to 1.19.1 ([#90](https://github.com/jdkaplan/squill/pull/90))
- *(deps)* bump time from 0.3.25 to 0.3.29 ([#89](https://github.com/jdkaplan/squill/pull/89))
- *(deps)* bump thiserror from 1.0.44 to 1.0.48 ([#87](https://github.com/jdkaplan/squill/pull/87))
- *(deps)* bump clap from 4.3.21 to 4.4.4 ([#88](https://github.com/jdkaplan/squill/pull/88))
- *(deps)* bump actions/checkout from 3 to 4 ([#85](https://github.com/jdkaplan/squill/pull/85))
- *(deps)* bump serde from 1.0.183 to 1.0.188 ([#84](https://github.com/jdkaplan/squill/pull/84))
- *(deps)* bump anyhow from 1.0.72 to 1.0.75 ([#81](https://github.com/jdkaplan/squill/pull/81))
- *(deps)* bump tokio from 1.31.0 to 1.32.0 ([#78](https://github.com/jdkaplan/squill/pull/78))
- *(deps)* bump clap from 4.3.19 to 4.3.21 ([#77](https://github.com/jdkaplan/squill/pull/77))
- *(deps)* bump tokio from 1.29.1 to 1.31.0 ([#76](https://github.com/jdkaplan/squill/pull/76))
- *(deps)* bump tabled from 0.13.0 to 0.14.0 ([#73](https://github.com/jdkaplan/squill/pull/73))
- *(deps)* bump regex from 1.9.1 to 1.9.3 ([#74](https://github.com/jdkaplan/squill/pull/74))
- *(deps)* bump time from 0.3.24 to 0.3.25 ([#75](https://github.com/jdkaplan/squill/pull/75))
- *(deps)* bump serde from 1.0.180 to 1.0.183 ([#72](https://github.com/jdkaplan/squill/pull/72))
- *(deps)* bump taiki-e/install-action from 1 to 2 ([#65](https://github.com/jdkaplan/squill/pull/65))
- *(deps)* bump serde from 1.0.175 to 1.0.180 ([#71](https://github.com/jdkaplan/squill/pull/71))
- *(deps)* bump time from 0.3.23 to 0.3.24 ([#70](https://github.com/jdkaplan/squill/pull/70))
- *(deps)* bump tabled from 0.12.2 to 0.13.0 ([#69](https://github.com/jdkaplan/squill/pull/69))
- *(deps)* bump serde from 1.0.171 to 1.0.175 ([#68](https://github.com/jdkaplan/squill/pull/68))
- *(deps)* bump thiserror from 1.0.43 to 1.0.44 ([#67](https://github.com/jdkaplan/squill/pull/67))
- *(deps)* bump clap from 4.3.14 to 4.3.19 ([#66](https://github.com/jdkaplan/squill/pull/66))

### Fixes

- (all commands): Print invalid directory names to the verbose log.

## 0.5.1 - 2023-07-18

### Fixes

- `migrate`: Print the count of pending migrations to avoid empty output

## 0.5.0 - 2023-07-15

### Features

- Now with modules and types!
- Derive useful standard library traits on types
- Replace `anyhow::Result` with operation-specific error enums

### Fixes

- `init`, `new`, `renumber`/`align-ids`: Allow filesystem-only commands without DB config
- `status`: Avoid printing duplicate rows for applied migrations
- `status`: Print local migration directory name if present
- `status`: Remove redundant "comment" field
- `init`, `new`: Error if migration ID already exists
- Make `-v`/`--verbosity` a global flag

### Changes

- Rename the `renumber --write` subcommand to `align-ids --execute`. The old subcommand and flag
  will be available as hidden aliases until the next set of breaking changes.

### Docs

- Update the init migration comment text to clarify what the `no-transaction` directive does.
- Add help text for all CLI subcommands and flags

### Development

- Now with tests!
- Ignore CLI files when running the command from this repo
- Add `docker-compose.yml` for local integration testing

## 0.4.2 - 2023-03-19

### Fixes

- Update `tempfile` dependency, which removes a dependency on `remove_dir_all`.
  See [GHSA-mc8h-8q98-g5hr](https://github.com/advisories/GHSA-mc8h-8q98-g5hr)

- Update `time` dependency and use it directly instead of through `chrono`.
  See [GHSA-wcg3-cvx6-7396](https://github.com/advisories/GHSA-wcg3-cvx6-7396)

## 0.4.1 - 2023-03-15

### Dev Changes

- Configure Dependabot.
- Update to `clap` v4.

## 0.4.0 - 2023-03-14

### Features

- Split into binary and library crates.

### Fixes

- Remove blank line from the end of the embedded `init.up.sql` template.

### Changes

- Change table formatting for `status` and `renumber` commands.

## 0.3.0 - 2022-10-21

Rename from "Drift" to "Squill".
Release on [crates.io](https://crates.io) as [squill](https://crates.io/crates/squill).

## 0.2.0 (Never released)

### Features

- Load custom templates for new migrations from a configurable directory.
- Use Tera for templating these migrations.

## 0.1.1 (Never released)

### Features

- Add basic commands for working with migration files: `init`, `new` `renumber`, `status`
- Add basic commands for running migrations: `migrate`, `undo`, `redo`

## 0.1.0 - (Never released)

The original version of Squill was written in Go and named "Drift". You can still find some remnants if you do some Git archaeology ;)
